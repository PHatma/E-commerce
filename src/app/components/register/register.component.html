<section class="bg-main-light shadow p-2 my-2 rounded-2 ">
<h1 class="h2 text-main">Register Now</h1>
<form [formGroup]="registerForm" (ngSubmit)="register()">
<div class="my-2">
   <label [ngClass]="
   {
    'is-valid': !registerForm.get('name')?.errors &&(registerForm.get('name')?.touched ||registerForm.get('name')?.dirty),
    'is-invalid': registerForm.get('name')?.errors &&(registerForm.get('name')?.touched ||registerForm.get('name')?.dirty)

   }" for ="name">Name</label>
   <input class="form-control " id="name " type="text" formControlName ="name">
   @if(registerForm.get('name')?.errors &&(registerForm.get('name')?.touched ||registerForm.get('name')?.dirty)){
    <div class="alert alert-danger w-50">
      @if(registerForm.get('name')?.getError('required')){
        <p class="m-0">Name is required</p>

      }
      @else if(registerForm.get('name')?.getError('minlength')){
        <p class="m-0">Name Should be more than or equal  3 chars</p>

      }
      @else if(registerForm.get('name')?.getError('maxlength')){
        <p class="m-0">Name Should be less than or equal  20 chars</p>
      }

     </div>
   }
</div>
<div class="my-2">
   <label [ngClass]="
   {
    'is-valid': !registerForm.get('email')?.errors &&(registerForm.get('email')?.touched ||registerForm.get('email')?.dirty),
    'is-invalid': registerForm.get('email')?.errors &&(registerForm.get('email')?.touched ||registerForm.get('email')?.dirty)

   }" for ="email">Email</label>
   <input class="form-control " id="email " type="email" formControlName ="email">
   @if(registerForm.get('email')?.errors &&(registerForm.get('email')?.touched ||registerForm.get('email')?.dirty)){
    <div class="alert alert-danger w-50">
      @if(registerForm.get('email')?.getError('required')){
        <p class="m-0">Email is required</p>

      }
      @else if(registerForm.get('email')?.getError('email')){
        <p class="m-0">Enter Valid Email</p>

      }


     </div>
   }
</div>
<div class="my-2">
    <label [ngClass]="
    {
     'is-valid': !registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched ||registerForm.get('phone')?.dirty),
     'is-invalid': registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched ||registerForm.get('phone')?.dirty)

    }"for="phone">Phone</label>
    <input class="form-control" id="phone " type="tel" formControlName ="phone">
    @if(registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched ||registerForm.get('phone')?.dirty)){
      <div class="alert alert-danger w-50">
        @if(registerForm.get('phone')?.getError('required')){
          <p class="m-0">Phone is required</p>

        }
        @else if(registerForm.get('phone')?.getError('pattern')){
          <p class="m-0">Enter Valid Phone Number</p>

        }


       </div>
     }
</div>
<div class="my-2">
      <label [ngClass]="
      {
       'is-valid': !registerForm.get('password')?.errors &&(registerForm.get('password')?.touched ||registerForm.get('password')?.dirty),
       'is-invalid': registerForm.get('password')?.errors &&(registerForm.get('password')?.touched ||registerForm.get('password')?.dirty)

      }" for="password">Password</label>
      <input class="form-control " id="password " type="password" formControlName ="password">
      @if(registerForm.get('password')?.errors &&(registerForm.get('password')?.touched ||registerForm.get('password')?.dirty)){
        <div class="alert alert-danger w-50">
          @if(registerForm.get('password')?.getError('required')){
            <p class="m-0">Password is required</p>

          }
          @else if(registerForm.get('password')?.getError('pattern')){
            <p class="m-0">Enter Valid Password </p>

          }


         </div>
       }
</div>
<div class="my-2">
        <label [ngClass]="
        {
         'is-valid': !registerForm.get('rePassword')?.errors &&(registerForm.get('rePassword')?.touched ||registerForm.get('rePassword')?.dirty),
         'is-invalid': registerForm.get('rePassword')?.errors &&(registerForm.get('rePassword')?.touched ||registerForm.get('rePassword')?.dirty)

        }" for ="rePassword">Confirm Password</label>
        <input class="form-control " id="rePassword " type="password" formControlName ="rePassword">
        @if(registerForm.get('rePassword')?.getError('mismatch') &&(registerForm.get('rePassword')?.touched ||registerForm.get('rePassword')?.dirty)){
          <div class="alert alert-danger w-50">

            <p class="m-0">Password confirmation is incorrect </p>


           </div>
         }
</div>
<button  class="btn-main ms-auto d-block" type ="submit">Register
  @if(isLoading ){
    <span>
      <i class="fas fa-spin fa-spinner "></i>
    </span>
  }
</button>
@if(msgError){
  <p class="text-danger w-50 mx-auto text-center">{{msgError}} </p>
}
@if(msgSussess){
  <p class="text-success w-50 mx-auto text-center">Success</p>
}
</form>
</section>
